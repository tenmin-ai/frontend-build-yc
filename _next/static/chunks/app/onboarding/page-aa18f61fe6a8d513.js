(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8461],{8234:function(e,l,t){Promise.resolve().then(t.bind(t,83383))},15276:function(e,l,t){"use strict";t.d(l,{BackendProvider:function(){return f},CSPostHogProvider:function(){return h},h:function(){return p}});var a=t(57437),n=t(2265),s=t(53974),r=t(19856),i=t(21623),o=t(29827),c=t(99376),u=t(46214),d=t(23664);r.Lp.setConfig({baseUrl:"https://backend-us-yc.tenmin.ai"}),r.Lp.interceptors.request.use((e,l)=>{var t;let a=JSON.parse(null!==(t=localStorage.getItem("token"))&&void 0!==t?t:"null");return a&&e.headers.set("Authorization","Bearer "+a),e});let g=new i.S,x=(0,n.createContext)(void 0),f=e=>{let{children:l}=e,t=(0,s.useIsClient)(),i=(0,c.useRouter)(),u=(0,c.usePathname)(),[d,f]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(t){let e=localStorage.getItem("token");f(e),console.log(u),e||"/login"===u||i.replace("/onboarding")}},[t,i]),t)?(0,a.jsx)(x.Provider,{value:{authedClient:r.Lp,isLoggedIn:!!localStorage.getItem("token"),saveToken:e=>{null===e?localStorage.removeItem("token"):localStorage.setItem("token",JSON.stringify(e)),f(e)}},children:(0,a.jsx)(o.aH,{client:g,children:l})}):(0,a.jsx)("main",{className:"h-screen-safe flex w-screen items-center justify-center bg-[#FAFBFF]",children:(0,a.jsx)("img",{src:"tenmin_two_bubbles.svg",alt:"",className:"w-10"})})},p=()=>{let e=(0,n.useContext)(x);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e};function h(e){let{children:l}=e;return(0,a.jsx)(d.zf,{client:u.ZP,children:l})}u.ZP.init("phc_3RgWCdQuPIThVhLMxGlimaJQHP7ILbqZnxeR8GRkin6",{api_host:"https://ph-proxy.tenmin.ai",person_profiles:"always"})},67140:function(e,l,t){"use strict";t.d(l,{Mj:function(){return i},mi:function(){return r}});var a=t(57437),n=t(2265),s=t(99376);let r=["en","en-GB","en-AU","de","ko","ja","fr","pt-PT"],i=[{name:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"en",path:"us United States of America usa.svg",uiflag_path:"us-United-States-of-America-3x2.svg",greeting:"Hello"},{name:"English (United Kingdom)",flag:"\uD83C\uDDEC\uD83C\uDDE7",code:"en-GB",path:"gb United Kingdom uk.svg",uiflag_path:"gb-United-Kingdom-3x2.svg",greeting:"Hello"},{name:"English (Australia)",flag:"\uD83C\uDDE6\uD83C\uDDFA",code:"en-AU",path:"au Australia.svg",uiflag_path:"au-Australia-3x2.svg",greeting:"G'day"},{name:"German (Germany)",flag:"\uD83C\uDDE9\uD83C\uDDEA",code:"de",path:"de Germany.svg",uiflag_path:"de-Germany-3x2.svg",greeting:"Hallo"},{name:"Spanish (Spain)",flag:"\uD83C\uDDEA\uD83C\uDDF8",code:"es",path:"es Spain.svg",uiflag_path:"es-Spain-3x2.svg",greeting:"Hola"},{name:"Korean",flag:"\uD83C\uDDF0\uD83C\uDDF7",code:"ko",path:"kr South Korea.svg",uiflag_path:"kr-South-Korea-3x2.svg",greeting:"안녕"},{name:"French (France)",flag:"\uD83C\uDDEB\uD83C\uDDF7",code:"fr",path:"fr France.svg",uiflag_path:"fr-France-3x2.svg",greeting:"Bonjour"},{name:"Japanese",flag:"\uD83C\uDDEF\uD83C\uDDF5",code:"ja",path:"jp Japan.svg",uiflag_path:"jp-Japan-3x2.svg",greeting:"こんにちは"},{name:"Chinese (China)",flag:"\uD83C\uDDE8\uD83C\uDDF3",code:"zh",path:"cn China.svg",uiflag_path:"cn-China-3x2.svg",greeting:"你好"},{name:"Chinese (Taiwan)",flag:"\uD83C\uDDF9\uD83C\uDDFC",code:"zh-TW",path:"tw Taiwan.svg",uiflag_path:"tw-Taiwan-3x2.svg",greeting:"你好"},{name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3",code:"hi",path:"in India.svg",uiflag_path:"in-India-3x2.svg",greeting:"नमस्ते"},{name:"Portuguese (Brazil)",flag:"\uD83C\uDDE7\uD83C\uDDF7",code:"pt",path:"br Brazil.svg",uiflag_path:"br-Brazil-3x2.svg",greeting:"Ol\xe1"},{name:"Portuguese (Portugal)",flag:"\uD83C\uDDF5\uD83C\uDDF9",code:"pt-PT",path:"pt Portugal.svg",uiflag_path:"pt-Portugal-3x2.svg",greeting:"Ol\xe1"},{name:"Italian",flag:"\uD83C\uDDEE\uD83C\uDDF9",code:"it",path:"it Italy.svg",uiflag_path:"it-Italy-3x2.svg",greeting:"Ciao"},{name:"Indonesian",flag:"\uD83C\uDDEE\uD83C\uDDE9",code:"id",path:"id Indonesia.svg",uiflag_path:"id-Indonesia-3x2.svg",greeting:"Halo"},{name:"Dutch",flag:"\uD83C\uDDF3\uD83C\uDDF1",code:"nl",path:"nl Netherlands.svg",uiflag_path:"nl-Netherlands-3x2.svg",greeting:"Hallo"},{name:"Turkish",flag:"\uD83C\uDDF9\uD83C\uDDF7",code:"tr",path:"tr Turkey.svg",uiflag_path:"tr-Turkey-3x2.svg",greeting:"Merhaba"},{name:"Polish",flag:"\uD83C\uDDF5\uD83C\uDDF1",code:"pl",path:"pl Poland.svg",uiflag_path:"pl-Poland-3x2.svg",greeting:"Cześć"},{name:"Swedish",flag:"\uD83C\uDDF8\uD83C\uDDEA",code:"sv",path:"se Sweden.svg",uiflag_path:"se-Sweden-3x2.svg",greeting:"Hej"},{name:"Bulgarian",flag:"\uD83C\uDDE7\uD83C\uDDEC",code:"bg",path:"bg Bulgaria.svg",uiflag_path:"bg-Bulgaria-3x2.svg",greeting:"Здравейте"},{name:"Romanian",flag:"\uD83C\uDDF7\uD83C\uDDF4",code:"ro",path:"ro Romania.svg",uiflag_path:"ro-Romania-3x2.svg",greeting:"Bună"},{name:"Arabic (Saudi Arabia)",flag:"\uD83C\uDDF8\uD83C\uDDE6",code:"ar",path:"sa Saudi Arabia.svg",uiflag_path:"sa-Saudi-Arabia-3x2.svg",greeting:"مرحبا"},{name:"Czech",flag:"\uD83C\uDDE8\uD83C\uDDFF",code:"cs",path:"cz Czech Republic.svg",uiflag_path:"cz-Czech-Republic-3x2.svg",greeting:"Ahoj"},{name:"Greek",flag:"\uD83C\uDDEC\uD83C\uDDF7",code:"el",path:"gr Greece.svg",uiflag_path:"gr-Greece-3x2.svg",greeting:"Γειά σας"},{name:"Finnish",flag:"\uD83C\uDDEB\uD83C\uDDEE",code:"fi",path:"fi Finland.svg",uiflag_path:"fi-Finland-3x2.svg",greeting:"Hei"},{name:"Hungarian",flag:"\uD83C\uDDED\uD83C\uDDFA",code:"hu",path:"hu Hungary.svg",uiflag_path:"hu-Hungary-3x2.svg",greeting:"Hell\xf3"},{name:"Norwegian",flag:"\uD83C\uDDF3\uD83C\uDDF4",code:"no",path:"no Norway.svg",uiflag_path:"no-Norway-3x2.svg",greeting:"Hei"},{name:"Vietnamese",flag:"\uD83C\uDDFB\uD83C\uDDF3",code:"vi",path:"vn Vietnam.svg",uiflag_path:"vn-Vietnam-3x2.svg",greeting:"Xin ch\xe0o"},{name:"Slovak",flag:"\uD83C\uDDF8\uD83C\uDDF0",code:"sk",path:"sk Slovakia.svg",uiflag_path:"sk-Slovakia-3x2.svg",greeting:"Ahoj"},{name:"Russian",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"ru",path:"ru Russia.svg",uiflag_path:"ru-Russia-3x2.svg",greeting:"Здравствуйте"},{name:"Ukrainian",flag:"\uD83C\uDDFA\uD83C\uDDE6",code:"uk",path:"ua Ukraine.svg",uiflag_path:"ua-Ukraine-3x2.svg",greeting:"Привіт"},{name:"Malay",flag:"\uD83C\uDDF2\uD83C\uDDFE",code:"ms",path:"my Malaysia.svg",uiflag_path:"my-Malaysia-3x2.svg",greeting:"Halo"},{name:"Danish",flag:"\uD83C\uDDE9\uD83C\uDDF0",code:"da",path:"dk Denmark.svg",uiflag_path:"dk-Denmark-3x2.svg",greeting:"Hej"}];l.ZP=e=>{let{nextStep:l,previousStep:t,userData:o,setUserData:c}=e,u=(0,s.useSearchParams)().get("learn"),[d,g]=(0,n.useState)(u),x=e=>{g(e),c({...o,language:e})},f=(0,n.useRef)(null),[p,h]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=f.current;if(!e)return;let l=()=>h(e.scrollTop>0);return e.addEventListener("scroll",l),()=>e.removeEventListener("scroll",l)},[]),(0,a.jsx)("main",{className:"flex min-h-0 grow flex-col items-center bg-[#FAFBFF] pb-10 pt-2",children:(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,a.jsx)("p",{className:"w-full px-7 pb-3 text-left text-xl font-semibold text-black ".concat(p?"border-b-[1px] border-black/10":""),children:"Which language do you want to learn?"}),(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto px-7",ref:f,children:[i.map(e=>(0,a.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-xl border-[1px] px-7 py-4 text-base ".concat(d===e.code?"border-[#2552F4] bg-[#2552F4]/5 text-[#2552F4]":"border-black/10 bg-white"," ").concat(!r.includes(e.code)&&"cursor-not-allowed opacity-50"),disabled:!r.includes(e.code),onClick:()=>x(e.code),children:[(0,a.jsx)("img",{src:"uiflags/".concat(e.uiflag_path),alt:"",className:"mr-3 h-5 rounded-md border-none border-[#DADADA] ".concat(r.includes(e.code)?"":"grayscale")}),e.name]},e.name)),(0,a.jsx)("p",{className:"text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]}),(0,a.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,a.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(d?"":"cursor-not-allowed opacity-50"),onClick:()=>{d&&l()},disabled:!d,children:"Next question"})})]})})}},83383:function(e,l,t){"use strict";let a;t.r(l),t.d(l,{default:function(){return k}});var n=t(57437),s=t(2265),r=t(15276),i=e=>{let{className:l}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",enableBackground:"new 0 0 50 50",className:l,children:[(0,n.jsx)("path",{d:"M30.3 13.7L25 8.4l-5.3 5.3-1.4-1.4L25 5.6l6.7 6.7z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M24 7h2v21h-2z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M35 40H15c-1.7 0-3-1.3-3-3V19c0-1.7 1.3-3 3-3h7v2h-7c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1h20c.6 0 1-.4 1-1V19c0-.6-.4-1-1-1h-7v-2h7c1.7 0 3 1.3 3 3v18c0 1.7-1.3 3-3 3z",fill:"currentColor"})]})},o=e=>{let{className:l}=e;return(0,n.jsxs)("svg",{width:"90",height:"89",viewBox:"0 0 90 89",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:l,children:[(0,n.jsx)("rect",{x:"4",y:"4",width:"82",height:"81",rx:"8",stroke:"currentColor",strokeWidth:"8"}),(0,n.jsx)("rect",{x:"41",y:"20",width:"8",height:"48",rx:"4",fill:"currentColor"}),(0,n.jsx)("rect",{x:"21",y:"40",width:"48",height:"8",rx:"4",fill:"currentColor"})]})},c=t(61273),u=e=>{let{nextStep:l,router:t}=e,{isLoggedIn:u}=(0,r.h)(),[d,g]=(0,s.useState)(!1),[x,f]=(0,s.useState)("");(0,s.useEffect)(()=>{window.matchMedia("(display-mode: standalone)").matches?console.log("This is running as standalone."):(console.log("This is running in a browser."),g(!0))},[]);let[p,h]=(0,s.useState)(!1),[m,D]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),a=e,h(!0)}),window.addEventListener("appinstalled",()=>{console.log("INSTALL: Success"),f("Installed! Please open the app from your home screen.")})},[]),d)?(0,n.jsx)("main",{className:"h-screen-safe flex w-full flex-col items-center justify-center bg-[#FAFBFF] px-7 pb-4 pt-5 tracking-[-0.02em]",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-10 pb-10",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-4 text-center text-xl font-bold",children:"Install the Tenmin App"}),(0,n.jsxs)("div",{className:"text-center",children:["We"," ",(0,n.jsx)("span",{className:"font-semibold text-[#2552F4]",children:"highly recommend"})," ","installing the app as a PWA/Bookmark on your"," ",(0,n.jsx)("span",{className:"font-semibold text-[#2552F4]",children:"smartphone"})," ","for the best experience. It's free and easy!"]})]}),!p&&!m&&(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex w-64 items-center gap-2 p-2 pr-4",children:[(0,n.jsx)(i,{className:"h-7 w-7 text-[#2552F4]"}),(0,n.jsx)("p",{className:"text-lg",children:"1. Press on share"})]}),(0,n.jsxs)("div",{className:"flex w-64 items-center gap-2 p-2 pr-4",children:[(0,n.jsx)(o,{className:"h-6 w-6 p-1 text-[#2552F4]"}),(0,n.jsx)("p",{className:"text-lg",children:"2. Add to Homescreen"})]})]}),m&&(0,n.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-black/10 p-2 px-4",children:[(0,n.jsx)(c.fCD,{className:"animate-spin text-[#2552F4]"}),(0,n.jsx)("div",{children:"Installing..."})]}),(0,n.jsx)("div",{className:"flex w-full flex-col items-center gap-5",children:x?(0,n.jsx)("div",{className:"text-md text-center text-[#2552F4]",children:x}):p?(0,n.jsx)("button",{onClick:e=>{h(!1),D(!0);try{a.prompt(),a.userChoice.then(e=>{"accepted"===e.outcome?console.log("User accepted the install prompt"):(console.log("User dismissed the install prompt"),D(!1))})}catch(e){console.error("Error trying to install PWA",e),D(!1)}},className:"w-full rounded-full bg-[#2552F4] px-3 py-4 font-semibold text-white",children:(0,n.jsx)("p",{children:"Install"})}):!m&&(0,n.jsx)("button",{onClick:()=>{g(!1)},className:"w-full rounded-full px-3 py-4 text-sm text-black/40",children:(0,n.jsx)("p",{children:"Skip (App might not be fully usable)"})})})]})}):(0,n.jsxs)("div",{className:"flex min-h-0 w-full grow flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-2",children:[(0,n.jsxs)("div",{className:"flex w-full flex-grow flex-col items-center justify-center pb-12",children:[(0,n.jsx)("img",{src:"/tenmin_new.svg",alt:"",className:"h-10"}),(0,n.jsxs)("p",{className:"mt-3 text-center text-black/30",children:["Learn how to ",(0,n.jsx)("u",{className:"curved-underline",children:"speak"})," any language!"]})]}),(0,n.jsxs)("div",{className:"flex w-full flex-col items-center gap-3",children:[(0,n.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white",onClick:l,children:"Get started"}),!u&&(0,n.jsx)("button",{className:"w-full rounded-full bg-black bg-opacity-[7%] py-3 font-semibold text-black",onClick:()=>{t.replace("/login")},children:"I have an account"})]})]})},d=t(67140),g=t(53974),x=t(18079),f=e=>{let{nextStep:l,previousStep:t,setUserData:a,userData:i,router:o}=e,[u,d]=(0,s.useState)(""),{isLoggedIn:f,saveToken:p}=(0,r.h)(),[h,m]=(0,s.useState)(!1),[D,b]=(0,s.useState)("RANDOM"),[v,w]=(0,s.useState)("RANDOM@RANDOM.COM"),[j,F]=(0,s.useState)("RANDOM"),[C,y]=(0,g.useLocalStorage)("language","en");return(0,n.jsx)("main",{className:"flex min-h-0 grow flex-col items-center bg-[#FAFBFF] pb-10 pt-2",children:(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,n.jsx)("p",{className:"w-full px-7 pb-3 text-left text-xl font-semibold text-black",children:"Last question! How should we call you?"}),(0,n.jsx)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto px-7",children:(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto",children:[(0,n.jsx)("input",{type:"text",placeholder:"Your name (e.g. John)",className:"w-full rounded-lg border-[1px] border-[#DADADA] p-3 text-black",value:u,onChange:e=>{d(e.target.value),a({...i,profile:{...i.profile,nickname:e.target.value}})}}),(0,n.jsx)("p",{className:"text-sm text-black/30",children:"This is how our AI tutor will address you during the lessons."})]})}),f?(0,n.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,n.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," flex w-full items-center justify-center gap-2 rounded-full bg-[#2552F4] py-4 font-semibold text-white"),disabled:h||!u.trim(),onClick:()=>{m(!0);let{account:e,...l}=i;console.log(l),(0,x.Hy)({body:l}).then(e=>{y(i.language),e.data&&o.replace("/call?session_id=".concat(e.data.session_id))}).catch(e=>{var l,t;return alert(null!==(t=null===(l=e.body)||void 0===l?void 0:l.detail)&&void 0!==t?t:e)})},children:[h?(0,n.jsx)(c.fCD,{className:"animate-spin"}):(0,n.jsx)(c.I7T,{}),"Meet your tutor"]})}):(0,n.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,n.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," flex w-full items-center justify-center gap-2 rounded-full bg-[#2552F4] py-4 font-semibold text-white"),disabled:h||!u.trim(),onClick:()=>{if(m(!0),!v||!j){alert("Please enter your email and password");return}(0,x.c_)({body:{...i,account:{username:D,email:v,password:j}}}).then(e=>{y(i.language),e.data?(p(e.data.token.access_token),o.replace("/call?session_id=".concat(e.data.session_id))):(alert("No token in response, please login manually"),o.replace("/login"))}).catch(e=>{var l,t;return alert(null!==(t=null===(l=e.body)||void 0===l?void 0:l.detail)&&void 0!==t?t:e)})},children:[h?(0,n.jsx)(c.fCD,{className:"animate-spin"}):(0,n.jsx)(c.I7T,{}),"Meet your tutor"]})})]})})},p=t(5095),h=t(60755),m=t(99376),D=e=>{let{nextStep:l,previousStep:t,userData:a,setUserData:r}=e,[i,o]=(0,s.useState)(null),c=e=>{o(e),r({...a,profile:{...a.profile,fallback_language:e}})},u=(0,s.useRef)(null),[g,x]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=u.current;if(!e)return;let l=()=>x(e.scrollTop>0);return e.addEventListener("scroll",l),()=>e.removeEventListener("scroll",l)},[]),(0,n.jsx)("main",{className:"flex min-h-0 w-full grow flex-col items-center bg-[#FAFBFF] pb-10 pt-2",children:(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,n.jsx)("p",{className:"w-full px-7 pb-3 text-left text-xl font-semibold text-black",children:"What is your native language?"}),(0,n.jsxs)("p",{className:"w-full px-7 pb-5 text-left text-sm text-black/40 ".concat(g?"border-b-[1px] border-black/10":""),children:["Choose your native or preferred language for translation."," "]}),(0,n.jsx)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto px-7",ref:u,children:d.Mj.map(e=>{if(e.code.slice(0,2)!==a.language.slice(0,2))return(0,n.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-xl border-[1px] px-7 py-4 text-base ".concat(i===e.code?"border-[#2552F4] bg-[#2552F4]/5 text-[#2552F4]":"border-black/10 bg-white"," ").concat(!d.mi.includes(e.code)&&"cursor-not-allowed opacity-50"),onClick:()=>c(e.code),disabled:!d.mi.includes(e.code),children:[(0,n.jsx)("img",{src:"uiflags/".concat(e.uiflag_path),alt:"",className:"mr-3 h-5 rounded-md border-[1px] border-[#DADADA]"}),e.name]},e.name)})}),(0,n.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,n.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(i?"":"cursor-not-allowed opacity-50"),onClick:()=>{i&&l()},disabled:!i,children:"Next question"})})]})})},b=t(85411),v=t(40384);let w=new(t.n(v)());var j=e=>{let{nextStep:l,previousStep:t,setUserData:a,userData:r,router:i}=e,[o,u]=(0,s.useState)(!1),[d,g]=(0,s.useState)(""),[f,p]=(0,s.useState)("");console.log(r);let[h,m]=(0,s.useState)(r.profile.nickname);return(0,n.jsxs)("main",{className:"h-screen-safe flex flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-3",children:[(0,n.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,n.jsx)("button",{className:"flex h-12 w-12 items-center justify-center self-start rounded-full bg-black bg-opacity-[10%] text-sm font-medium text-black",onClick:t,children:(0,n.jsx)(c.bUI,{})})}),(0,n.jsx)("div",{className:"flex flex-grow flex-col items-center justify-center",children:(0,n.jsxs)("p",{className:"mt-5 text-center text-lg text-black/30",children:[(0,n.jsx)("p",{className:"mb-2 text-2xl font-semibold text-black",children:(0,n.jsx)(b.e,{splitter:e=>w.splitGraphemes(e),sequence:["Hallo ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Hola ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Bonjour ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Ciao ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Hello ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"こんにちは ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"안녕하세요 ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"你好 ".concat(null!=h?h:"Friend"," \uD83C\uDF89")],wrapper:"span",speed:50,style:{display:"inline-block"},cursor:!1,repeat:1/0})}),"Let's start your first lesson! Sign in and jump right in."]})}),o?(0,n.jsxs)("div",{className:"mt-4 flex w-full flex-col gap-2",children:[(0,n.jsx)("input",{type:"text",placeholder:"Email",className:"w-full rounded-lg border-[1px] border-[#DADADA] p-3 text-black",value:d,onChange:e=>g(e.target.value)}),(0,n.jsx)("input",{type:"password",placeholder:"Password",className:"w-full rounded-lg border-[1px] border-[#DADADA] p-3 text-black",value:f,onChange:e=>p(e.target.value)})]}):(0,n.jsxs)("div",{className:"mt-4 flex w-full flex-col items-center gap-3",children:[(0,n.jsxs)("button",{className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 bg-white py-4 font-semibold text-black",onClick:()=>{(0,x.kc)({query:{client_callback:"".concat(location.protocol,"//").concat(location.host,"/oauth/google")}}).then(e=>{var l;let t=null===(l=e.data)||void 0===l?void 0:l.redirect_uri;console.log(e),console.log(t),t&&window.open(t,"_blank")}).catch(e=>{console.log(e),alert(e)})},children:[(0,n.jsx)("img",{src:"/google_logo.svg",alt:"",className:"h-5"}),"Sign in with Google"]}),(0,n.jsx)("button",{className:"flex w-full items-center justify-center gap-3 rounded-full bg-gray-200 py-4 font-semibold text-black",onClick:()=>i.replace("/"),children:"I'll sign in later"})]}),(0,n.jsx)("div",{className:"w-full",children:o&&(0,n.jsx)("button",{className:"mt-4 flex w-full items-center justify-center rounded-full bg-[#0039FF] py-4 text-white",onClick:()=>{},children:(0,n.jsx)("p",{className:"text-base font-semibold",children:"Create account"})})})]})};let F=[{x:0,y:6,width:3,height:8,rx:1},{x:5,y:4,width:3,height:10,rx:1},{x:10,y:2,width:3,height:12,rx:1},{x:15,y:0,width:3,height:14,rx:1}];var C=e=>{let{level:l}=e;return(0,n.jsx)("svg",{width:"18",height:"14",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:F.map((e,t)=>{let a=t<l;return(0,n.jsx)("rect",{x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,fill:"#2552F4",...!a&&{fillOpacity:.2}},t)})})},y=e=>{let{nextStep:l,previousStep:t,setUserData:a,userData:r}=e,[i,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{r&&r.language&&u(r.language)},[r]);let g=e=>{o(e),a({...r,profile:{...r.profile,level:e}})},x=(0,s.useRef)(null),[f,p]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=x.current;if(!e)return;let l=()=>p(e.scrollTop>0);return e.addEventListener("scroll",l),()=>e.removeEventListener("scroll",l)},[]),(0,n.jsx)("main",{className:"flex min-h-0 grow flex-col items-center bg-[#FAFBFF] pb-10 pt-2",children:(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,n.jsx)("p",{className:"w-full px-7 pb-3 text-left text-xl font-semibold text-black",children:"Where are you in your language learning journey?"}),(0,n.jsx)("p",{className:"w-full px-7 pb-5 text-left text-sm text-black/40 ".concat(f?"border-b-[1px] border-black/10":""),children:"We will personalize lessons based on your level."}),(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto px-7",ref:x,children:[[{value:"I'm new to {language}",level:0},{value:"I know some common words",level:1},{value:"I can have basic conversations",level:2},{value:"I can talk about various topics",level:3},{value:"I can discuss most topics in detail",level:4}].map((e,l)=>{var t;let{value:a,level:s}=e;return(0,n.jsxs)("button",{disabled:l>2,className:"flex w-full items-center gap-3 rounded-xl border-[1px] px-7 py-4 text-start text-base ".concat(i===s?"border-[#2552F4] bg-[#2552F4]/5 text-[#2552F4]":"border-black/10 bg-white"," ").concat(l>2?"opacity-30":""),onClick:()=>g(s),children:[(0,n.jsx)(C,{level:s}),a.replace("{language}",(null===(t=d.Mj.find(e=>{let{code:l}=e;return l==c}))||void 0===t?void 0:t.name)||"the language")]},s)}),(0,n.jsx)("p",{className:"mt-5 text-center text-sm italic text-black/40",children:"Level 3 and 4 are coming soon!"})]}),(0,n.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,n.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(null!==i?"":"cursor-not-allowed opacity-50"),onClick:()=>{null!==i&&l()},disabled:null===i,children:"Next question"})})]})})},N=e=>{var l;let{nextStep:t,previousStep:a,setUserData:r,userData:i}=e,[o,c]=(0,s.useState)(null),[u,g]=(0,s.useState)([]);(0,s.useEffect)(()=>{(null==i?void 0:i.language)&&c(i.language)},[i]);let x=e=>{let l=u.includes(e)?u.filter(l=>l!==e):[...u,e];g(l),r({...i,profile:{...i.profile,learning_goals:l,version:1}})},f=(0,s.useRef)(null),[p,h]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=f.current;if(!e)return;let l=()=>h(e.scrollTop>0);return e.addEventListener("scroll",l),()=>e.removeEventListener("scroll",l)},[]),(0,n.jsx)("main",{className:"flex min-h-0 w-full grow flex-col items-center bg-[#FAFBFF] pb-10 pt-2",children:(0,n.jsxs)("div",{className:"flex min-h-0 w-screen flex-grow flex-col items-start justify-start",children:[(0,n.jsxs)("p",{className:"w-full px-7 pb-5 text-left text-xl font-semibold text-black ".concat(p?"border-b-[1px] border-black/10":""),children:["Why are you learning"," ",(null===(l=d.Mj.find(e=>{let{code:l}=e;return l==o}))||void 0===l?void 0:l.name)||"the language","?"]}),(0,n.jsx)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto px-7",ref:f,children:[{name:"Support my education",emoji:"\uD83D\uDCDA"},{name:"Spend time productively",emoji:"\uD83D\uDE80"},{name:"Connect with people",emoji:"\uD83E\uDEF1\uD83C\uDFFB‍\uD83E\uDEF2\uD83C\uDFFE"},{name:"Prepare for travel",emoji:"✈️"},{name:"Boost my career",emoji:"\uD83D\uDCBC"},{name:"Just for fun",emoji:"\uD83C\uDF89"}].map(e=>(0,n.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-xl border-[1px] px-7 py-4 text-base ".concat(u.includes(e.name)?"border-[#2552F4] bg-[#0039FF]/5 text-[#2552F4]":"border-black/10 bg-white"),onClick:()=>x(e.name),children:[(0,n.jsx)("p",{className:"text-xl",children:e.emoji}),e.name]},e.name))}),(0,n.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,n.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(u.length>0?"":"cursor-not-allowed opacity-50"),onClick:()=>{u.length>0&&t()},disabled:0===u.length,children:"Next question"})})]})})};function k(){let e=(0,m.useRouter)(),l=(0,m.useSearchParams)().get("learn"),[t,a]=(0,s.useState)(l?3:1),[r,i]=(0,s.useState)({account:{username:"",email:"",password:""},language:l||"en",profile:{nickname:"",level:0}}),o=()=>{a(e=>e-1)},g={nextStep:()=>{console.log("nextStep"),a(e=>e+1)},previousStep:o,setUserData:i,userData:r};return(0,n.jsxs)("div",{className:"h-screen-safe flex w-screen flex-col items-center justify-start bg-[#FAFBFF]",children:[(0,n.jsxs)("div",{className:"flex w-full items-center justify-between px-7 py-3 text-xl ".concat(1===t?"opacity-0":""),children:[(0,n.jsx)("button",{className:"py-2 pl-2 pr-4",onClick:()=>{1!==t&&o()},children:(0,n.jsx)(c.bUI,{})}),(0,n.jsx)("div",{className:"ml-0 mr-2 h-1.5 w-full flex-grow overflow-hidden rounded-full bg-[#D9D9D9]",children:(0,n.jsx)("div",{className:"h-full rounded-full bg-[#2552F4] transition-all duration-300 ease-out",style:{width:"".concat((t-1)/5*100,"%")}})})]}),(0,n.jsx)(p.M,{mode:"wait",children:(0,n.jsx)(h.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"flex min-h-0 w-full grow flex-col",children:(()=>{switch(t){case 1:default:return(0,n.jsx)(u,{...g,router:e});case 2:return(0,n.jsx)(d.ZP,{...g});case 3:return(0,n.jsx)(y,{...g});case 4:return(0,n.jsx)(D,{...g});case 5:return(0,n.jsx)(N,{...g});case 6:return(0,n.jsx)(f,{...g,router:e});case 7:return(0,n.jsx)(j,{...g,router:e})}})()},t)})]})}}},function(e){e.O(0,[7240,5878,4060,9763,1169,1811,4892,8079,2971,2117,1744],function(){return e(e.s=8234)}),_N_E=e.O()}]);