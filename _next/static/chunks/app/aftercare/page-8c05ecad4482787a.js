(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1351],{5354:function(e,t,s){Promise.resolve().then(s.bind(s,6262))},6262:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(57437),n=s(99376),i=s(2265),r=s(61273),l=s(74272),o=s(53974),c=s(14438),u=s(89403);let d="wss://backend-us-yc.tenmin.ai";function m(e){let{children:t}=e,s=(0,o.useIsClient)(),{token:i}=(0,u.f)(),r=(0,n.useSearchParams)().get("session_id");return r?s?(console.log("ws_url",d),(0,a.jsx)(l.eA,{url:"".concat(d,"/ws/aftercare/").concat(r,"?token=").concat(i),label:"Aftercare",toast:c.A,autoconnect:!0,wsAuth:!0,binaryType:"arraybuffer",children:t})):null:(0,a.jsx)("div",{children:"Invalid lesson"})}s(18079);var f=s(56870),x=s(60755),p=s(71059);let y=["Su","Mo","Tu","We","Th","Fr","Sa"],h=()=>{let e=(0,n.useRouter)();(0,i.useEffect)(()=>(document.body.style.backgroundColor="#FAFBFF",()=>{document.body.style.backgroundColor=""}),[]);let t=(0,l.MV)("AFTERCARE",{tutoringId:"",streak:null,progress:0,updateDescription:"",newLessonInfos:[]});t.progress=1;let s=Math.min(t.streak||0,7),o=new Date().getDay(),c=Array.from({length:s},(e,t)=>(o-s+t+1+7)%7);[...c.map(e=>y[e]),...y.filter((e,t)=>!c.includes(t))];let[u,d]=(0,i.useState)(!1);(0,f.Y)();let m=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(1===t.progress){let e=setTimeout(()=>{var e;null===(e=m.current)||void 0===e||e.waitStop()},4e3);return()=>clearTimeout(e)}},[t.progress]),(0,a.jsxs)("main",{className:"h-screen-safe flex w-screen flex-col items-center justify-start bg-[#FAFBFF]",children:[1==t.progress&&(0,a.jsx)(x.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"flex min-h-0 w-full grow flex-col items-center justify-start overflow-y-scroll px-7",children:(0,a.jsxs)("div",{className:"relative z-10 flex w-full flex-col items-center justify-center gap-5 pt-16",children:[(0,a.jsxs)(x.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"flex h-[10.75rem] flex-col items-center justify-center gap-5",children:[(0,a.jsx)(x.E.div,{initial:{y:-20},animate:{y:0},transition:{delay:.1,type:"spring",stiffness:300},className:"flex gap-2",children:[0,1,2].map(e=>(0,a.jsx)(x.E.div,{initial:{opacity:0,rotate:-180},animate:{opacity:1,rotate:0},transition:{delay:.05*e,duration:.3},children:(0,a.jsx)(r.QJe,{className:"text-3xl text-[#FFC800] ".concat(1===e?"-translate-y-2":"")})},e))}),(0,a.jsx)(x.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},className:"mt-0 text-center text-xl font-semibold",children:"Lesson complete!"}),(0,a.jsx)(x.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.3},className:"mt-0 text-center text-base text-black/30",children:"You did great today. Keep on shining!"})]},"encouragement"),(0,a.jsxs)(x.E.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.3},children:[(0,a.jsxs)("div",{className:"mt-3 flex w-full items-center justify-center gap-1 text-sm text-[#2552F4]/80",children:[(0,a.jsx)("div",{className:"rounded-lg bg-[#2552F4]/10 p-1.5",children:(0,a.jsx)(r.jLr,{className:"text-sm text-[#2552F4]/80"})}),(0,a.jsx)("div",{className:"font-medium",children:"Lesson summary"})]}),(0,a.jsx)("div",{className:"mb-6 mt-3 flex flex-col items-center justify-around rounded-3xl border border-black/10 bg-white p-10",children:(0,a.jsx)(p.ZP,{funcCall:{name:"new_word_or_expressions",arguments:'{"entries": [{"word_or_expression": "Hello, world!", "translation": "안녕하세요, 세계!"}, {"word_or_expression": "The quick brown fox jumps over the lazy dog.", "translation": "빠른 갈색 여우가 게으른 개를 뛰어넘는다."}]}'},onTTSPlay:e=>{},isCompact:!0})})]})]})},"complete"),t.progress<1&&(0,a.jsx)(x.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"flex h-full w-full grow flex-col justify-center px-8",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-between gap-5",children:(0,a.jsxs)("div",{className:"mt-2 flex w-full flex-col items-center justify-between gap-3",children:[(0,a.jsx)("p",{className:"animate-pulse font-medium",children:"Updating memory"}),(0,a.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-200",children:(0,a.jsx)("div",{style:{width:"".concat(Math.min(100*t.progress+5,100),"%")},className:"h-2 rounded-full bg-[#2552F4] transition-all duration-500 ease-out"})})]})})},"updating"),(0,a.jsx)("div",{className:"mt-1 flex h-36 w-full flex-col items-center justify-center rounded-t-[2rem] border-[1px] border-black/10 bg-white px-7 pb-10",children:(0,a.jsx)("button",{className:"mt-4 flex w-full items-center justify-center rounded-full bg-[#2552F4] py-[1.2rem] text-white",disabled:u,onClick:()=>{e.replace("/")},children:u?(0,a.jsx)(r.fCD,{className:"animate-spin"}):(0,a.jsx)("p",{className:"text-base font-semibold",children:"Continue"})})})]})};function j(){return(0,a.jsx)(m,{children:(0,a.jsx)(h,{})})}},89403:function(e,t,s){"use strict";s.d(t,{f:function(){return n}});var a=s(53974);let n=()=>{let[e,t]=(0,a.useLocalStorage)("token");return{token:e,saveToken:t}}},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},32859:function(e,t,s){"use strict";s.d(t,{J:function(){return n}});var a=s(57437);s(2265);let n=e=>{let{icon:t,className:s,...n}=e;return(0,a.jsx)(t,{className:s,...n})}}},function(e){e.O(0,[7316,7240,4060,1811,8351,4436,5731,8079,7044,2971,2117,1744],function(){return e(e.s=5354)}),_N_E=e.O()}]);